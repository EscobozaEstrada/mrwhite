version: 1.0
# runtime: python311 # We are switching to a Dockerfile deployment

build:
  image: python:3.11-slim # Specify the base image for the build environment
  commands:
    build:
      - echo "Building Docker image..."
      - docker build -t mrwhite-backend .

run:
  command: gunicorn --bind 0.0.0.0:5001 wsgi:application
  network:
    port: 5001
  
  # Environment variables are now passed directly from Terraform to the container
